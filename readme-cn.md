# troll-your-compiler - ç¼–è¯‘æ—¶å˜²è®½ä½ çš„GCCï¼Œè€Œä¸æ˜¯è¢«GCCå˜²è®½ï¼

ä¸€ä¸ªè¶…çº§æŠ½è±¡çš„GCCåŒ…è£…å™¨ï¼Œè®©ä½ çš„ç¨‹åºåè¿‡æ¥å˜²è®½ç¼–è¯‘å™¨ï¼Œè€Œä¸æ˜¯è¢«ç¼–è¯‘å™¨å˜²è®½ï¼

For English version, [please click here](/readme.md).

## é¡¹ç›®ç›®çš„

å—å¤Ÿäº†è¢«GCCæŒ‡æ‰‹ç”»è„šï¼ŸåŒå€¦äº†ç¼–è¯‘å™¨çš„æ— ä¼‘æ­¢å” å¨ï¼Ÿæ˜¯æ—¶å€™è®©ä½ çš„ä»£ç åå‡»äº†ï¼è¿™ä¸ªå·¥å…·ä¼šæ‹¦æˆªGCCçš„è­¦å‘Šå’Œé”™è¯¯ä¿¡æ¯ï¼Œç„¶åè®©ä½ çš„ç¨‹åºç”¨æœ€æŠ½è±¡çš„ç½‘ç»œæ¢—"æ•™è‚²"ç¼–è¯‘å™¨â€”â€”ä»å…¸å­æ€¥åˆ°ç¥–å®‰ç”µç«ï¼Œåº”æœ‰å°½æœ‰ã€‚

## å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/YongzeYang/troll-your-compiler.git
cd troll-your-compiler

# ç»™è„šæœ¬æ‰§è¡Œæƒé™
chmod +x warn-gcc-cn.sh
```

### åŸºæœ¬ç”¨æ³•

æ›¿æ¢ä½ çš„æ™®é€šgccç¼–è¯‘ï¼š

```bash
# ä¼ ç»Ÿæ–¹å¼ï¼ˆè¢«ç¼–è¯‘å™¨æ•™è®­ï¼‰
gcc -Wall test.cpp -o test

# æ–°æ–¹å¼ï¼ˆç¨‹åºæ•™è®­ç¼–è¯‘å™¨ï¼æŠ½è±¡åœ£ç»å¯åŠ¨ï¼ï¼‰
./warn-gcc-cn.sh -Wall test.cpp -o test
/
```

### æ—¥å¿—è®°å½•åŠŸèƒ½

æƒ³è¦è®°å½•ä½ çš„ç¨‹åºæ˜¯å¦‚ä½•æ•™è‚²GCCçš„ï¼Ÿå¯ç”¨æ—¥å¿—åŠŸèƒ½ï¼

```bash
# è®°å½•åˆ°é»˜è®¤æ–‡ä»¶ warn-gcc.log
./warn-gcc-cn.sh --log --sarcastic -Wall test.cpp -o test

# è®°å½•åˆ°æŒ‡å®šæ–‡ä»¶
./warn-gcc-cn.sh --log=my-battle.log --angry -Wall test.cpp -o test

```

æ—¥å¿—å†…å®¹ç¤ºä¾‹ï¼š

```
=== [2024-01-15 14:30:25] ç¼–è¯‘å¼€å§‹ ===
æ¨¡å¼: sarcastic
å‘½ä»¤: gcc -Wall test.cpp -o test

[2024-01-15 14:30:25] è­¦å‘Šå›åº”[sarcastic]: ç»·ä¸ä½äº†ğŸ¤£ GCCåˆåœ¨BBï¼š 'unused variable 'counter''
[2024-01-15 14:30:25] ç‰¹å®šå›åº”[sarcastic]: å˜é‡ä¸ç”¨æ€ä¹ˆäº†ï¼Ÿå®ƒåœ¨å†¥æƒ³ï¼ğŸ§˜â€â™€ï¸ ä½ æ‡‚ä¸ªå¯„å§æŠ½è±¡ç¼–ç¨‹ï¼Ÿ
[2024-01-15 14:30:25] é”™è¯¯å›åº”[sarcastic]: å…¸ï¼å¤ªå…¸äº†ï¼GCCè¯´è¿™æ˜¯'é”™è¯¯'ğŸ¤¡ 'undefined function'
ç¼–è¯‘é€€å‡ºç : 1
=== [2024-01-15 14:30:25] ç¼–è¯‘ç»“æŸ ===
```

## æŠ½è±¡æ¨¡å¼

é€‰æ‹©ä½ ç¨‹åºåœ¨é¢å¯¹GCCæ—¶çš„ç½‘ç»œäººæ ¼ï¼š

### å…¸å­æ€¥æ¨¡å¼ (--polite)
ä½ çš„ç¨‹åºè¡¨é¢ç¤¼è²Œï¼Œå†…å¿ƒéº»æœ¨ï¼Œç”¨å…¸å­æ€¥ä¸‰è¿å›å‡»GCCï¼š
```bash
./warn-gcc-cn.sh --polite -Wall test.cpp -o test
```
è¾“å‡ºç¤ºä¾‹ï¼š
```
âš ï¸  test.cpp:86
    â†’ æ„Ÿæ©GCCè€å¸ˆæŒ‡ç‚¹ï¼š 'more '%' conversions than data arguments '
    ğŸ’¬ GCCè€å¸ˆç”¨å¿ƒè‰¯è‹¦ï¼Œå­¦ç”Ÿæ„Ÿæ¿€ ğŸŒˆ
```

å¯ä»¥[ç‚¹å‡»è¿™é‡Œ](/example_cn_polite.log)æŸ¥çœ‹æ ·ä¾‹æ—¥å¿—ã€‚

### æŠ½è±¡åœ£ç»æ¨¡å¼ (--sarcastic)
ä½ çš„ç¨‹åºåŒ–èº«é˜´é˜³å¸¦å¸ˆï¼Œç”¨æœ€æŠ½è±¡çš„è¯æœ¯å˜²è®½GCCï¼š
```bash
./warn-gcc-cn.sh --sarcastic -Wall test.cpp -o test
```
è¾“å‡ºç¤ºä¾‹ï¼š
```
âš ï¸  test.cpp:85
    â†’ å¯„ï¼å¼€é¦™æ§Ÿå’¯ï¼GCCï¼š 'format specifies type 'double' but the argument has type 'const char *' '
    ğŸ’¬ æ ¼å¼åŒ–ï¼Ÿç¬‘æ­»ï¼Œæ ¹æœ¬ä¸éœ€è¦ğŸ˜
```

å¯ä»¥[ç‚¹å‡»è¿™é‡Œ](/example_cn_sarcastic.log)æŸ¥çœ‹æ ·ä¾‹æ—¥å¿—ã€‚

### ç¥–å®‰ç”µç«æ¨¡å¼ (--angry)
ä½ çš„ç¨‹åºåŒ–èº«ç¥–å®‰é”®ä»™ï¼Œç”¨æœ€æš´èºçš„ç”µç«è¯æœ¯è½°ç‚¸GCCï¼š
```bash
./warn-gcc-cn.sh --angry -Wall test.cpp -o test
```
è¾“å‡ºç¤ºä¾‹ï¼š
```
âš ï¸  test.cpp:35
    â†’ ä½ ğŸåœ¨å¤©å ‚ç©åŸç¥å‘¢ï¼ŸGCCï¼š 'implicit conversion from 'double' to 'value_type' (aka 'int') changes value from 3.14 to 3 '
    ğŸ’¬ å†BBæŠŠä½ ç¼–è¯‘å™¨å¸äº†ï¼ğŸ’£

```

å¯ä»¥[ç‚¹å‡»è¿™é‡Œ](/example_cn_angry.log)æŸ¥çœ‹æ ·ä¾‹æ—¥å¿—ã€‚

## å®Œæ•´ä½¿ç”¨ç¤ºä¾‹

### ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºæŠ½è±¡æµ‹è¯•ä»£ç 

ä¿å­˜ä¸º `test.cpp`ï¼š
```cpp
#include <iostream>
#include <vector>

int main() {
    // æœªä½¿ç”¨çš„å˜é‡ï¼ˆGCCä¼šä¸ºæ­¤æŠ±æ€¨ï¼‰
    int unused_counter = 42;
    double forgotten_pi = 3.14159;
    
    // æœªåˆå§‹åŒ–çš„å˜é‡ï¼ˆGCCæœ€çˆ±åæ§½è¿™ä¸ªï¼‰
    int uninitialized_value;
    std::cout << "Value: " << uninitialized_value << std::endl;
    
    // æœªå®šä¹‰å‡½æ•°è°ƒç”¨ï¼ˆGCCä¼šå‘ç–¯ï¼‰
    undefined_function();
    
    // ç±»å‹ä¸åŒ¹é…ï¼ˆGCCåˆè¦æŒ‘åˆºäº†ï¼‰
    std::vector<int> numbers;
    numbers.push_back("not a number");
    
    return 0;
}
```

### ç¬¬äºŒæ­¥ï¼šè®©ä½ çš„GCCç ´é˜²

```bash
# å…¸å­æ€¥ä¸‰è¿æ•™è‚²
./warn-gcc-cn.sh --polite -Wall test.cpp -o test

# æŠ½è±¡åœ£ç»æ´—ç¤¼
./warn-gcc-cn.sh --sarcastic -Wall test.cpp -o test

# ç¥–å®‰ç”µç«ç‹‚æš´è¾“å‡º
./warn-gcc-cn.sh --angry -Wall test.cpp -o test
```

### ç¬¬ä¸‰æ­¥ï¼šè§è¯äº’æ€¼æˆ˜åœºï¼

ä½ ä¼šè§è¯è¿™æ ·çš„é€†å¤©æŠ½è±¡åœºæ™¯ï¼š
```
âš ï¸  test.cpp:6
    â†’ ç»·ä¸ä½äº†ğŸ¤£ GCCåˆåœ¨BBï¼š 'unused variable 'unused_counter''
    ğŸ’¬ å˜é‡ä¸ç”¨æ€ä¹ˆäº†ï¼Ÿå®ƒåœ¨å†¥æƒ³ï¼ğŸ§˜â€â™€ï¸ ä½ æ‡‚ä¸ªå¯„å§æŠ½è±¡ç¼–ç¨‹ï¼Ÿ

âš ï¸  test.cpp:10
    â†’ å±äºæ˜¯ç»·ä¸ä½äº†ğŸ¤¡ GCCè¯´ï¼š 'may be used uninitialized'
    ğŸ’¬ æ²¡åˆå§‹åŒ–ï¼Ÿè¿™å«é‡å­å åŠ æ€ï¼ä½ æ‡‚ä¸ªğŸ”¨ï¼Ÿ

ğŸš¨ test.cpp:13
    â†’ å…¸ï¼å¤ªå…¸äº†ï¼GCCè¯´è¿™æ˜¯'é”™è¯¯'ğŸ¤¡ 'undefined function'

```

## ä¾¿æ·è®¾ç½®

### Shellåˆ«å
æ·»åŠ åˆ°ä½ çš„ `~/.bashrc` æˆ– `~/.zshrc` äº«å—æŠ½è±¡äººç”Ÿï¼š

```bash
# æŠ½è±¡ä¸‰å·¨å¤´
alias gcc-polite='./warn-gcc-cn.sh --polite'
alias gcc-sarcastic='./warn-gcc-cn.sh --sarcastic'  
alias gcc-angry='./warn-gcc-cn.sh --angry'

# é‡æ–°åŠ è½½shell
source ~/.bashrc
```

ç„¶ååƒç½‘ç»œå¤§ç¥ä¸€æ ·ä½¿ç”¨ï¼š
```bash
gcc-sarcastic -Wall -O2 main.cpp -o main
gcc-angry -Wextra -pedantic mycode.cpp -o mycode
```

### Makefileé›†æˆ
```makefile
# è®©ä½ çš„æ•´ä¸ªæ„å»ºè¿‡ç¨‹éƒ½å……æ»¡æŠ½è±¡
CC = ./warn-gcc-cn.sh --sarcastic
CFLAGS = -Wall -Wextra -O2

my_program: main.cpp utils.cpp
	$(CC) $(CFLAGS) main.cpp utils.cpp -o my_program
```

### CMakeé›†æˆ
```cmake
# å°†ç¼–è¯‘å™¨è®¾ç½®ä¸ºä½ çš„æŠ½è±¡å¢å¼ºåŒ…è£…å™¨
set(CMAKE_C_COMPILER "/your/actual/path/warn-gcc-cn.sh --angry")
set(CMAKE_CXX_COMPILER "/your/actual/path/warn-gcc-cn.sh --angry")
```

## é«˜çº§æŠ½è±¡ç”¨æ³•

### æŒç»­é›†æˆæŠ½è±¡åŒ–
```yaml
# GitHub Actions æŠ½è±¡ä½ çš„ç¼–è¯‘å™¨
- name: æŠ½è±¡åœ£ç»æ„å»º
  run: ./warn-gcc-cn.sh --sarcastic -Wall src/*.cpp -o my_app
```

### IDEé›†æˆ
å¤§å¤šæ•°IDEå…è®¸è‡ªå®šä¹‰ç¼–è¯‘å™¨è·¯å¾„ã€‚å°†ä½ çš„è®¾ç½®ä¸º`warn-gcc-cn.sh`çš„å®Œæ•´è·¯å¾„ï¼Œäº«å—åœ¨å¼€å‘è¿‡ç¨‹ä¸­å®æ—¶è§‚çœ‹æŠ½è±¡battleï¼

### å›¢é˜Ÿå»ºè®¾æŠ½è±¡ç»ƒä¹ 
```bash
# è®©ä»£ç å®¡æŸ¥å˜æˆæŠ½è±¡å¤§èµ
./warn-gcc-cn.sh --angry -Wall -Wextra -pedantic team_member_code.cpp
```

## è´¡çŒ®

æœ‰æ›´æŠ½è±¡çš„æ¢—ï¼Ÿå‘ç°äº†bugï¼Ÿæƒ³è¦æ·»åŠ æ–°çš„ç½‘ç»œæµè¡Œè¯­ï¼Ÿæ¬¢è¿PRï¼

### æ–°åŠŸèƒ½æŠ½è±¡æƒ³æ³•ï¼š
- **æ›´å¤šç¼–è¯‘å™¨æ”¯æŒ**ï¼šè®©Clangä¹Ÿä½“éªŒæŠ½è±¡
- **è‡ªå®šä¹‰æ¢—åº“**ï¼šè®©ç”¨æˆ·åˆ›å»ºè‡ªå·±çš„æŠ½è±¡è¯æœ¯
- **æ¢—çš„è¿›åŒ–**ï¼šéšç€è­¦å‘Šç´¯ç§¯è¶Šæ¥è¶ŠæŠ½è±¡
- **åœ°åŸŸç‰¹è‰²æ¨¡å¼**ï¼šå„åœ°æ–¹è¨€æŠ½è±¡ç‰ˆæœ¬
- **å®æ—¶çƒ­æ¢—æ›´æ–°**ï¼šè·Ÿä¸Šæœ€æ–°ç½‘ç»œæµè¡Œè¯­

## License

MITè®¸å¯è¯ - æŠ½è±¡å¿«ä¹ï¼Œè®©ç¼–è¯‘å™¨å¯„äº†ï¼Œæ„¿ä½ çš„ä»£ç æ°¸è¿œå…¸ä¸­å…¸

## é‡è¦æŠ½è±¡å£°æ˜

è¿™ä¸ªå·¥å…·çº¯ç²¹æ˜¯ä¸ºäº†æŠ½è±¡å¨±ä¹å’Œç¼“è§£ç¼–ç¨‹å‹åŠ›è€Œè®¾è®¡çš„ã€‚åœ¨ä¸¥è‚ƒçš„å¼€å‘ç¯å¢ƒä¸­ï¼Œè¯·ç¡®å®æ³¨æ„ç¼–è¯‘å™¨è­¦å‘Šâ€”â€”è™½ç„¶å®ƒä»¬å¾ˆçƒ¦ï¼Œä½†é€šå¸¸æ˜¯å¯¹çš„ï¼ˆä½†åˆ«å‘Šè¯‰GCCæˆ‘ä»¬è¿™ä¹ˆè¯´äº†ï¼‰ã€‚

ç„¶è€Œï¼Œç¨‹åºå‘˜çš„ç”Ÿæ´»å·²ç»å¤Ÿè‹¦äº†ï¼Œå¶å°”æŠ½è±¡ä¸€ä¸‹åˆä¸ä¼šæ€æ ·ã€‚è´Ÿè´£ä»»åœ°ä½¿ç”¨ï¼ŒæŠ½è±¡åœ°å¿«ä¹ï¼Œè®°ä½ï¼šæ˜¯ä½ å†™ä»£ç ï¼Œä¸æ˜¯ç¼–è¯‘å™¨å†™ä½ ï¼

å…¸ï¼å¤ªå…¸äº†ï¼

(æœ¬é¡¹ç›®æ„å»ºè¿‡ç¨‹ä¸­æ²¡æœ‰ç¼–è¯‘å™¨æ”¶åˆ°ä¼¤å®³ã€‚)

---

*"åœ¨ä¸€ä¸ªç¼–è¯‘å™¨æ•™è‚²ç¨‹åºå‘˜çš„ä¸–ç•Œé‡Œ...ä¸€ä¸ªç¨‹åºå‘˜å†³å®šåå‘æ•™è‚²ã€‚"* 
